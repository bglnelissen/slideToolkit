Written by Tim Bezemer, UMC Utrecht (2016)
t.bezemer-2@umcutrecht.nl
------------------------------------------
N.B. slideEMask WAS WRITTEN IN C++ AND NEEDS TO BE COMPILED TO RUN. OSX AND CentOS PRECOMPILED BINARIES CAN BE FOUND IN THE binaries DIRECTORY. 
THE SOURCE C++ FILE AND COMPILE INSTRUCTIONS FOR OTHER PLATFORMS CAN BE FOUND IN binaries/compile_instructions

slideEMask determines a tissue mask image by assessing image texture. This information is captured by using the standard formula for information entropy to determine the image entropy at each pixel point. This works because highly textured areas (foreground, tissue) can be considered "chaotic" in terms of entropy, and can thus be separated from non-texturized regions (background) using this measure.

To this extent, a 3x3 pixel 'neighborhood' is defined around each pixel. The center pixel's entropy value is calculated by taking the entropy of it's surrounding 3x3 neighborhood.

These values are then averaged in a 4x4 pixel neighborhood to smoothen the image (removing small gaps).

slideEMask can be used to derive masks from virtual slide files, or to derive entropy images from CellProfiler tiles (as generated by slide2Tiles in this repository), see usage message.

slideEMask uses the CImg library, released under the CeCILL license